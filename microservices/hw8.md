Дедлайн - 3 недели от момента выдачи

-----

В этом задании вы научитесь строить микросервис на базе фреймворка grpc

*В это задании нельзя использовать глобальные переменные, нужное вам храните в полях структуры, которая живёт в замыкании*

Вам потребуется реализовать:

* Сгенерировать необходимый код из proto-файла
* Базу микросервиса в возможностью остановки сервера
* ACL - контроль доступа от разных клиентов
* Систему логирования вызываемых методов
* Систему сбора сборки статистики ( просто счетчики ) по вызываемым методам

Микросервис будет состоять из 2-х частей:
* Какая-то бизнес-логика. В нашем примере она ничего не делает, её достаточно просто вызывать
* Модуль администрирования, где находится логирование и статистика

С первым всё просто, там логики нету.

Со вторым интереснее. Как правило в настоящих микросервисах и логирование, и статистика работают в единственном экземпляре, у нас же они будут доступны по потоковому ( streaming ) интерфейсу тому, кто подключится к сервису. Это значит, что к сервису может подключиться 2 клиента логирования и оба будут получать поток логов. Так же к сервису может подключиться 2 ( и более ) модуля статистики с разными интервалами получения статистики ( например, каждые 2, 3 и 5 секунд ) и она будет асинхронно отправляться по каждому интерфейсу.

Раз уж был упомянут асинхрон - в задании будут горутины, select, таймеры, мютексы, контекст с таймаутами/завершением. 

В event.host лежит адрес клиента. Не адрес сервера! Ищите во внутренностях контекста.

Особенности задания:

* В этом задании нельзя использовать глобальные переменные. Всё что нам необходимо - храните в полях структуры.
* Запускать тесты с go test -v -race

как сгенерить (способ 1, новый):
- ставим тулзу для генерации - protoc (это можно нагуглить)
- ставим модуль go для protoc `go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.26`
- ставим модуль grpc для protoc `go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.1`
- генерим (на выходе получаем 2 файла. это ок): `protoc --go_out=. --go-grpc_out=. --go-grpc_opt=paths=source_relative --go_opt=paths=source_relative *.proto`

как сгенерить (способ 2. старый, deprecated):
- ставим тулзу для генерации - protoc (это можно нагуглить)
- ставим модули для генерации protobuf `go install github.com/golang/protobuf/{proto,protoc-gen-go}`
- ставим модуль для генерации grpc `go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.1`
- генерим: `protoc --go_out=plugins=grpc:. --go_opt=paths=source_relative *.proto`